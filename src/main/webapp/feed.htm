<html ng-app='myApp'>
<head>
<title>feeds</title>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="https://code.angularjs.org/1.4.8/angular-route.js"></script>   
</head>
 
 <script type="text/javascript">
 var app = angular.module('app', ['ngTouch', 'ui.grid']);
 app.controller('MainCtrl', ['$scope', function ($scope) {
     $scope.myData = [{
         "firstName": "Cox",
         "lastName": "Carney",
         "company": "Enormo",
         "employed": true
     }, {
         "firstName": "Lorraine",
         "lastName": "Wise",
         "company": "Comveyer",
         "employed": false
     }, {
         "firstName": "Nancy",
         "lastName": "Waters",
         "company": "Fuelton",
         "employed": false
     }];
 }]);
 
 (function () {
	    angular.module('ui.grid')
	      .service('FeedsService', ['$http', FeedsService]);

	    function FeedsService($http) {
	        var self = this;
	        var baseUrl = '/api/';
	        
	        var objectName = 'feeds';
	        self.readAll = function () {
	            return $http({
	                method: 'GET',
	                url: baseUrl + objectName
	            }).then(function (response) {
	                return response.data;
	            });
	        };
	        self.readOne = function (id) {
	            return $http({
	                method: 'GET',
	                url: baseUrl + objectName + '/' + id
	            }).then(function (response) {
	                return response.data;
	            });
	        };
	        self.create = function (data) {
	            return $http({
	                method: 'POST',
	                url: baseUrl + objectName,
	                data: data,
	                params: {
	                    returnObject: true
	                }
	            }).then(function (response) {
	                return response.data;
	            });
	        };
	        self.update = function (id, data) {
	            return $http({
	                method: 'PUT',
	                url: baseUrl + objectName + '/' + id,
	                data: data
	            }).then(function (response) {
	                return response.data;
	            });
	        };
	        self.delete = function (id) {
	            return $http({
	                method: 'DELETE',
	                url: baseUrl + objectName + '/' + id
	            });
	        };
	    }
	}());
 
 app.controller('MainCtrl', ['FeedsService', '$scope', function (FeedsService, $scope) {
	    $scope.gridOptions = {
	        excludeProperties: '__metadata',
	    };

	    $scope.load = function () {
	        FeedsService.readAll().then(function (response) {
	            $scope.gridOptions.data = response.data;
	        });
	    }

	    $scope.load();
	}]);
 </script>
<body>
 

<div ng-app="app">
    <div ng-controller="MainCtrl">
        <div ui-grid="{ data: myData }" class="grid"></div>
    </div>
</div> 

 

</body>
</html>